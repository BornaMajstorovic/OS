<!DOCTYPE html>
<!-- saved from url=(0066)http://www.zemris.fer.hr/predmeti/os/pripreme/z3_partibrejker.html -->
<html lang="hr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="Content-Language" content="hr">
<title>Partibrejker</title>
</head>

<body>

<h2>Partibrejker</h2>
<h3>Zadatak</h3>
<p>U nekom sustavu postoje dva tipa dretvi: <i>N </i>dretvi tipa <i>student</i>
i jedna<i> </i>dretva tipa <i>partibrejker</i>. <i>Studenti</i> se okupljaju u
nekoj sobi za zabavu u kojoj može biti proizvoljan broj <i>studenata</i>. <i>
Partibrejker</i> može ući u sobu za zabavu samo ako je u sobi 3 ili više <i>
studenata</i>. Kada je <i>partibrejker</i> u sobi, ni jedan od <i>studenata</i>
više ne može (ni ne želi) ući u sobu, a studenti koji su u sobi mogu izaći. <i>Partibrejker</i>
može izaći iz sobe tek kada svi <i>studenti</i> izađu. Broj <i>N<span lang="en-us">
&gt; 3</span></i>&nbsp;
se zadaje na početku izvođenja programa.
Zadatak je ispravno
sinkronizirati <i>studente</i> i <i>partibrejkera</i>.</p>
<p>Sve što u zadatku nije zadano, riješiti na proizvoljan način.</p>

<pre>Dretva student(K)
{
   spavaj X milisekundi; // X je slučajan broj između 100 i 500
   <b>ponavljaj 3 puta</b> {
      uđi u sobu za zabavu ako u sobi nema partibrejkera;
      ispiši "Student K je ušao u sobu";
      zabavi se; // spavaj X milisekundi gdje je X slučajan broj između 1000 i 2000
      izađi iz sobe za zabavu;
      ispiši "Student K je izašao iz sobe";
      odspavaj X milisekundi; // X je slučajan broj između 1000 i 2000
   }
}



Dretva partibrejker()
{
   <b>dok ima studenata u sustavu</b> {
      spavaj X milisekundi; // X je slučajan broj između 100 i 1000
      uđi u sobu za zabavu ako su u sobi 3 ili više studenata;
      ispiši "Partibrejker je ušao u sobu";
      izađi iz sobe ako u sobi nema više studenata;
      ispiši "Partibrejker je izašao iz sobe";
   }
}
</pre>

"Spavanje" u milisekundama može se postići funkcijom <code>usleep(ms*1000)</code> koja odgađa izvođenje programa za zadani broj mikrosekundi.
</body></html>